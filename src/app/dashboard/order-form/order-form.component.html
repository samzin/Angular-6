<div id="orderModal" class="modal fade" role="dialog">

  <div class="modal-dialog">

    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">{{formType}} Order</h4>
      </div>

      <div class="modal-body">
          <form #orderFormNMR="ngForm" (ngSubmit)="orderFormNMR.valid && onSubmit(model)">

              <div class="form-group">
                <select class="form-control" id="analysis" [(ngModel)]="selectedAnalysisName"
                        (change) = "selectedAnalysis(selectedAnalysisName)"
                        name="analysis" required>
                  <option value="" disabled>Select Analysis</option>
                  <option *ngFor="let analysis of analysisList" [ngValue]="analysis.analysisname">{{analysis.analysisname}}</option>
                </select>
              </div>

              <div class="form-group" *ngIf="showSolventProvider()">
                <select class="form-control"  id="solventProvider" [(ngModel)]="providername"
                        name="solventProvider" required>
                  <option value="" disabled>Select Solvent Provider</option>
                  <option *ngFor="let solventProvider of solventProviderList" [value]="solventProvider.providername">{{solventProvider.providername}}</option>
                </select>
              </div>

              <div class="form-group" *ngIf="(selectedAnalysisName == showSolventForAnalysis)">
                  <select class="form-control"  id="solvent" [(ngModel)]="selectedSolventName"
                          [disabled]="!selectedAnalysisName || disableSolvent()"
                          (change) = "setSelectedSolvent(selectedSolventName)" name="solvent" required>
                    <option value="" disabled="">Select Solvent</option>
                    <option *ngFor="let solvent of solventList" [ngValue]="solvent.solventname">{{solvent.solventname}}</option>
                  </select>
                </div>

              <div class="form-group">
                <select class="form-control"  id="subAnalysis" [(ngModel)]="selectedSubAnalysisName" name="subAnalysis"
                        (change) = "setSelectedSubAnalysis(selectedSubAnalysisName)"
                        [disabled]="!selectedAnalysisName" required>
                  <option value="" disabled>Select SubAnalysis</option>
                  <option *ngFor="let subAnalysis of subAnalysisList" [value]="subAnalysis.sub_Analysisname">{{subAnalysis.sub_Analysisname}}</option>
                </select>
              </div>

              <div class="form-group">
                <div class="row">
                  <div class="col-md-6">
                    <label>Rates : {{rateObject.rate}} </label>
                  </div>
                  <div class="col-md-6">
                    <label>Rates/Hr : {{rateObject.hrs_Rate}} </label>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6" *ngIf="(selectedAnalysisName == showSolventForAnalysis)">
                    <label>Solvent Rate : {{solventRate}} </label>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <div class="col-md-6">
                  <label for="numberOfSamples">No. of Samples</label>
                  <select class="form-control"  id="numberOfSamples" required
                          [(ngModel)]="selctedNumberOfSamples" name="numberOfSamples">
                    <option value="" disabled>Select No. of Samples</option>
                    <option *ngFor="let x of numberOfSamples" [value]="x">{{x}}</option>
                  </select>
                </div>

                <div class="col-md-6">
                  <label for="extra_Hrs">No. of Hours</label>
                  <input type="text" class="form-control" id="extra_Hrs" required
                         [(ngModel)]="model.extra_Hrs" name="extra_Hrs">
                </div>
              </div>

              <div class="form-group">
                <label for="sampleNames">Enter Samples</label>
                <input type="text" class="form-control" id="sampleNames" required
                       [(ngModel)]="model.sample_Code" (keyup)="checkLimitForSamples(model.sample_Code)" name="name">
              </div>

              <div class="form-group">
                <label for="special_notes">Special Notes</label>
                <input type="text" class="form-control" id="special_notes" required
                       [(ngModel)]="model.special_notes" name="special_notes">
              </div>

              <div class="form-group" *ngIf="(selectedAnalysisName == showInhouseExpert)">
                <input type="checkbox" id="inHouseExpert" [(ngModel)]="model.inHouseExpert" name="inHouseExpert">
                <label> In House Expert</label>
              </div>

              <div class="form-group" *ngIf="(selectedAnalysisName == showLiquidNitrogen)">
              <input type="checkbox" id="liquidNitrogen" [(ngModel)]="model.liquidNitrogen" name="liquidNitrogen">
              <label> With Liquid Nitrogen</label>
            </div>

              <div class="col-md-12" *ngIf="showSampleLimitErrorMessage">
                  <label class="validation-message">{{sampleLimitErrorMessage}}</label>
              </div>

              <button type="submit" value="Confirm" class="btn btn-primary">Confirm</button>

            </form>
      </div>

    </div>

  </div>

</div>
